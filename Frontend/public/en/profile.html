<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Lärpäke - Profile</title>
        <link rel="stylesheet" href="/styles/profile.css" />
        <script type="module" src="/src/components/side-panel.js"></script>
        <script type="module" src="/src/components/ui-header.js"></script>
        <script type="module" src="/src/components/form-container.js"></script>
    </head>

    <body>
        <dialog id="max-signatures-dialog" class="dialog error">
            <section>
                <h1>Max count reached!</h1>
                <p>
                    <b>You can add no more signatures </b> before removing old ones. You can get
                    information about removing signatures from
                    <a href="mailto:webmaster@luuppi.en">system admin</a>. However, if you had any
                    available signature slots, some signatures might have been saved.
                </p>
                <button class="_ok primary-btn">OK</button>
            </section>
        </dialog>

        <dialog id="upload-failed-dialog" class="dialog">
            <section>
                <h1>Upload failed!</h1>
                <p>
                    Saving a signature failed. You can read more information from the console (F12
                    -> console).
                </p>
                <button class="_ok primary-btn">OK</button>
            </section>
        </dialog>

        <dialog id="saved-dialog" class="dialog max-width-400">
            <section>
                <h1>Signature saved!</h1>
                <p><b>Press OK to update the page.</b> Not updating the page might cause errors.</p>
                <button class="_ok primary-btn">OK</button>
            </section>
        </dialog>
        <template id="signature-template">
            <li class="_signature signature-field" style="padding: 5px">
                <p class="_id" hidden></p>
                <svg
                    class="_svg"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 450 100"
                    style="height: 100"
                ></svg>
            </li>
        </template>
        <!-- This dialog does not show on ui if not called from js side -->
        <dialog id="signature-dialog" class="signature-dialog">
            <form-container>
                <h1>Add signature</h1>
                <p>Draw to the canvas below</p>
                <!-- Setting height and width in css mess up the canvas 2d context -->
                <canvas
                    height="100"
                    width="450"
                    id="signature-canvas"
                    class="signature-canvas"
                ></canvas>
                <div class="dialog-btn-container">
                    <button id="submit-dialog-btn" class="dialog-btn dialog-ok-btn">OK</button>
                    <button id="close-dialog-btn" class="dialog-btn dialog-cancel-btn">
                        Cancel
                    </button>
                </div>
            </form-container>
        </dialog>

        <ui-header>
            <header class="header placeholder">
                <img
                    class="header-logo"
                    src="/luuppi.logo.svg"
                    onclick="window.location.href='index.html'"
                    alt="Luuppi Logo"
                />
                <h1>LÄRPÄKE</h1>
                <div class="menu-icon">
                    <div
                        class="loader"
                        style="width: 34px; height: 34px; margin-top: 7px; margin-left: 7px"
                    ></div>
                    &nbsp;
                </div>
                <div class="menu-icon">
                    <div
                        class="loader"
                        style="width: 34px; height: 34px; margin-top: 7px; margin-left: 7px"
                    ></div>
                    &nbsp;
                </div>
                <div class="menu-icon">
                    <div
                        class="loader"
                        style="width: 34px; height: 34px; margin-top: 7px; margin-left: 7px"
                    ></div>
                    &nbsp;
                </div>
            </header>
        </ui-header>
        <side-panel></side-panel>

        <main>
            <form-container>
                <section id="profile-container">
                    <h2>User profile</h2>
                    <p>
                        You can edit your information
                        <a href="https://luuppi.fi/fi/profile">here</a>.
                    </p>
                    <div class="tooltipped-title">
                        <h3 class="text-field">Email</h3>
                        <img src="/icons/tooltip.svg" alt="tooltip icon" />
                        <p class="tooltip">Email in luuppi.fi system</p>
                    </div>
                    <p class="_email data-value">your email</p>

                    <div class="tooltipped-title">
                        <h3 class="text-field">First name</h3>
                        <img src="/icons/tooltip.svg" alt="tooltip icon" />
                        <p class="tooltip">You official first name (Not shown publicly)</p>
                    </div>
                    <p class="_first-name data-value">your first name</p>

                    <div class="tooltipped-title">
                        <h3 class="text-field">Sukunimi</h3>
                        <img src="/icons/tooltip.svg" alt="tooltip icon" />
                        <p class="tooltip">Official last name (Not shown publicly)</p>
                    </div>
                    <p class="_last-name data-value">your last name</p>

                    <div class="tooltipped-title">
                        <h3 class="text-field">Username</h3>
                        <img src="/icons/tooltip.svg" alt="tooltip icon" />
                        <p class="tooltip">Username (can be shown publicly)</p>
                    </div>
                    <p class="_username data-value">you username</p>

                    <div class="tooltipped-title">
                        <h3 class="text-field">Groups</h3>
                        <img src="/icons/tooltip.svg" alt="tooltip icon" />
                        <p class="tooltip">All fuksi groups you are part of</p>
                    </div>
                    <ul class="_groups groups-container">
                        <li>&mdash;</li>
                    </ul>

                    <div class="tooltipped-title">
                        <h3 class="text-field">Role</h3>
                        <img src="/icons/tooltip.svg" alt="tooltip icon" />
                        <p class="tooltip">You account role permissions in the system</p>
                    </div>
                    <p class="_role data-value">roolisi</p>
                </section>
            </form-container>

            <form-container id="signature-form-container" style="visibility: hidden">
                <section>
                    <h2>Signature</h2>
                    <p>
                        People with tutor role can add up to 5 of their own signatures. Sigantures
                        will appear on the Lärpäke pages in the completed tasks.
                    </p>
                    <ul id="signature-container" class="signature-container">
                        <li id="show-dialog-btn" class="signature-field cursor-pointer">
                            <img src="/icons/plus_icon.svg" alt="add new icon" />
                        </li>
                    </ul>
                    <button id="save-signatures-btn" class="primary-btn">Save</button>
                </section>
            </form-container>
        </main>
    </body>

    <script type="module" src="/src/profile.js"></script>
</html>
