<!DOCTYPE html>
<html lang="fi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Lärpäke - Admin</title>
        <link rel="stylesheet" href="/styles/admin/larpake_manager.css" />
        <script type="module" src="/src/components/side-panel.js"></script>
        <script type="module" src="/src/components/form-container.js"></script>
        <script type="module" src="/src/components/ui-header.js"></script>
        <script>
            if (!Object.keys(sessionStorage).find((key) => key.includes("msal.account.keys"))) {
                window.location.replace("unauthorized.html");
            }
        </script>
    </head>
    <dialog id="common-data-saved-dialog" class="max-width-400">
        <h1>Yleiset tiedot tallennettu</h1>
        <p>
            Lärpäkkeen yleiset tiedot (otsikko, vuosi, kuvaus) on tallennettu järjestelmään. Huomaa,
            että osioita ja
            <b>tehtäviä ei tallennettu nyt</b>.
        </p>
        <button class="_close-btn primary-btn align-right hover-scale">OK</button>
    </dialog>
    <dialog id="tasks-saved-dialog" class="max-width-400">
        <h1>Tehtävät tallennettu</h1>
        <p>
            Lärpäkkeen osiot ja tehtävät on tallennettu järjestelmään. Huomaa, että Lärpäkkeen
            <b>yleisiä tietoja ei tallennettu nyt. </b> Yleisiä tietoja ovat esim. Lärpäkkeen
            otsikko tai vuosi.
        </p>
        <button class="_close-btn primary-btn align-right hover-scale">OK</button>
    </dialog>
    <dialog id="are-you-sure-dialog" class="max-width-400">
        <h1>Oletko varma?</h1>
        <p>Haluatko päivittää nettisivun? <b>Menetät kaikki tallentamattomat muutokset.</b></p>
        <div class="flex-row gap-10 align-right">
            <button class="_cancel primary-btn align-right hover-scale">Peruuta</button>
            <button class="_ok secondary-btn align-right hover-scale">OK</button>
        </div>
    </dialog>
    <dialog id="invalid-data-dialog" class="max-width-400 border-red">
        <h1>Puuttuvia arvoja</h1>
        <p>
            Jotkin arvot ovat joko väärässä formaatissa tai puuttuvat kokonaan. Katso konsolia
            lisätietoja varten (F12 -> konsoli).
        </p>
        <button class="_close-btn primary-btn align-right hover-scale">OK</button>
    </dialog>
    <dialog id="action-failed" class="max-width-400 border-red">
        <h1>Viimeisin toiminto kusi!</h1>
        <p>
            Jotain meni pieleen viimeisimmässä toiminnossa... Katso konsolia lisätietoja varten (F12
            -> konsoli).
        </p>
        <button class="_close-btn primary-btn align-right hover-scale">OK</button>
    </dialog>

    <body >
        <ui-header path-depth="1"></ui-header>
        <side-panel path-depth="1"></side-panel>
        <form-container>
            <form style="padding: 20px">
                <h2>Muokkaa Yleisiä Tietoja</h2>
                <p>
                    Nämä muutokset näkyvät julkisesti muokaamassasi Lärpäkkeessä. Tämäm osion
                    muokkaaminen ei vaikuta käyttäjätietoihin eivätkä esimerkiksi osallistumiset
                    poistu olemassa olevista tapahtumista. Huomaa, että eri kielille on määritelty
                    omat osionsa. Arvon tyhjäksi jättäminen määrittää oletusarvon käytettäväksi.
                </p>

                <div class="field">
                    <input id="id-field" hidden />
                    <div class="tooltipped-title">
                        <label for="start-year">Aloitusvuosi</label>
                        <img src="/icons/tooltip.svg" alt="tooltip icon" />
                        <p class="tooltip">Jätä tyhjäksi jos aloitusvuotta ei haluta määritellä</p>
                    </div>
                    <input
                        id="start-year"
                        class="text-field start-year-field"
                        type="number"
                        min="-1"
                        max="2100"
                        step="1"
                        value="2025"
                    />
                </div>
                <div class="larpake-divider">
                    <div>
                        <h3 class="no-margin">Suomeksi (oletus)</h3>
                        <div class="field">
                            <label for="title-fi">Nimi</label>
                            <input
                                id="title-fi"
                                class="text-field"
                                placeholder="Lärpäke 20xx"
                                maxlength="80"
                                required
                            />
                        </div>
                        <div class="field">
                            <label for="description-fi">Kuvaus</label>
                            <textarea
                                id="description-fi"
                                class="description-field text-field"
                                placeholder="kerro lyhyesti Lärpäkkeestä"
                                maxlength="2000"
                            ></textarea>
                        </div>
                    </div>
                    <div>
                        <h3 class="no-margin">Englanniksi</h3>
                        <div class="field">
                            <label for="title-en">Nimi</label>
                            <input
                                id="title-en"
                                class="text-field"
                                placeholder="Lärpäke 20xx"
                                maxlength="80"
                                required
                            />
                        </div>
                        <div class="field">
                            <label for="description-en">Kuvaus</label>
                            <textarea
                                id="description-en"
                                class="description-field text-field"
                                placeholder="shortly in english"
                                maxlength="2000"
                            ></textarea>
                        </div>
                    </div>
                </div>
                <div class="send-options">
                    <!-- type="button" to disable any default action -->
                    <button
                        type="button"
                        id="common-info-cancel-btn"
                        class="secondary-btn hover-scale"
                    >
                        Peruuta
                    </button>
                    <button
                        type="button"
                        id="common-info-submit-btn"
                        class="primary-btn hover-scale"
                    >
                        Lähetä
                    </button>
                </div>
            </form>
        </form-container>

        <form-container>
            <form>
                <div style="padding: 20px">
                    <h2>Osiot Ja Tehtävät</h2>
                    <p>
                        HUOM! VOIT MENETTÄÄ TIETOJA! Osion poistaminen poistaa myös kaikki sen
                        tehtävät, jolloin dataa katoaa. Nämä muutokset näkyvät julkisesti
                        muokaamassasi Lärpäkkeessä. Tehtävän poistaminen ei poista tehtävää
                        järjestelmästä, mutta poistaa siitä saatavat pisteet ja merkitsee sen
                        peruutetuksi.
                    </p>
                    <ol id="section-container" class="section-list">
                        <!-- Lärpäke sections and their tasks -->
                        <button id="add-section-btn" class="add-section add-btn flex-last">
                            <img src="/icons/plus_icon.svg" alt="add section icon" />
                        </button>
                    </ol>
                    <div class="send-options">
                        <button id="tasks-cancel-btn" class="secondary-btn hover-scale">
                            Peruuta
                        </button>
                        <button id="tasks-submit-btn" class="primary-btn hover-scale">
                            Lähetä
                        </button>
                    </div>
                </div>
            </form>
        </form-container>
    </body>
    <script type="module" src="/src/admin/larpake_manager.js"></script>
</html>
